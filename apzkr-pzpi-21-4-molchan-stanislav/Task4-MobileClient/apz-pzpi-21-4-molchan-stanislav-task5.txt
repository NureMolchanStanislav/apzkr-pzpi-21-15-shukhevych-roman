1	МЕТА РОБОТИ

Мета роботи полягає в розробці мобільного додатка програмної системи та створенні звіту, що містить опис інженерних рішень з посиланнями на програмний код. Під час виконання лабораторної роботи має бути розроблено чотири діаграми, а саме: UML діаграма компонентів, UML діаграма станів, UML діаграма прецедентів та UML діаграму діяльності.

2	КОНЦЕПТУАЛЬНЕ МОДЕЛЮВАННЯ ПРЕДМЕТНОЇ ОБЛАСТІ

Після того, як всі сутності визначені, слід перейти до визначення основних сценаріїв використання програмної системи. Для цього найкраще підходе UML діаграма прецедентів. Після аналізу функціоналу, котрий був визначений у документі Vision & Scope, була розроблена UML діаграма прецедентів(див. рис. Б.2 у додатку Б), в котрій присутні п’ять акторів, а саме: гість, користувач, бізнес користувач, адміністратор, бізнес адміністратор та ІоТ. Всі актори отримали весь раніше визначений функціонал. Гість може зареєструватися або увійти до системи. Користувач може змінювати особисту інформацію, переглядати створювати та переглядати свої колекції, додавати та видаляти речі з них. Також він має можливість переглянути особисті пропозиції від брендів та статистику його використань. Важливою функцією для користувача є створення сповіщень для предметів.
Бізнес користувач може додавати, редагувати та видаляти інформацію про бренд. Він має змогу формувати статистику по сезонах, топ речей по використанню за обраний час та перегляд комбінацій речей, котрі використовують користувачі.
Адміністратор може змінювати будь-які дані в базі даних та отримувати необхідну інформацію.
Бізнес адміністратор може створювати резервні копії бази даних у форматі .csv.
Останній актор, це ІоТ пристрій і він може змінювати статус мітки та оновлювати кількість використань.
В результаті концептуального моделювання предметної області, було розроблено дві діаграми та визначені основні сутності програмної системи. Тепер можна перейти до реалізації інженерних рішень.
Для того, щоб детальніше розібратися з ролями користувачів у системі, було розроблено UML діаграму станів ролі користувача (див. рис. 2.1). Першим етапом, після якого усі користувачі отримують роль “Користувач”, є реєстрація. Для того, щоб користувач отримав роль “Бізнес”, йому треба укласти договір та надати докази, що бренд, котрий він представляє, дійсно його. Роль “Адміністратор”, можна отримати лише від іншого користувача, котрий вже має таку роль.
Після того, як всі актори та функціонал для них визначені, слід розробити діаграму компонентів, котра відображає, як система розділена на компоненти і як саме ці компоненти взаємодіяти між собою. Нижче наведено рисунок (див. рис. 2.2), на якому визначені компоненти мобільного додатка системи, а саме сторінок та їх взаємодія між собою.
Головним компонентом виступає навігаційна панель, яка є центром додатку. За допомогою неї користувач може отримати доступ до різних функцій системи, таких як вхід, реєстрація, вихід, особистий кабінет, бонуси, статистика, колекції та бренди. Для адміністратора панель також надає важливий функціонал, зокрема перегляд користувачів та можливість резервного копіювання таблиць бази даних у форматі CVS.
Сторінка "Колекції" відображає всі колекції користувача і включає підкомпоненти для створення, редагування та перегляду колекцій. Важливим елементом є сторінка "Предмети", яка відображає всі предмети в колекціях і містить підкомпоненти для додавання, редагування та перегляду деталей предметів. На стоірнці з деталями предмета, користувач може змінити датчик на ньому та додати сповіщення для обраного предмету. Це дозволяє користувачам ефективно керувати своїми речами та отримувати детальну інформацію про кожен предмет.
Сторінка "Бренди" дозволяє користувачам керувати брендами, зокрема додавати нові бренди, редагувати існуючі та переглядати деталі. Компонент "Статистика" відображає різні статистичні дані, що допомагають користувачам отримувати аналітичні інсайти щодо використання своїх речей.
Адміністративна панель надає доступ до розширених функцій управління системою, включаючи експорт таблиць та перегляд детальної інформації про користувачів.
Коли компоненти визначені, можна спроектувати, як приблизно користувачі будуть використовувати мобільний додаток і для цього була розроблена діаграма діяльності користувача (див. рис. 2.3). Спочатку користувач має зареєструватися у додатку. Після реєстрації система визначає роль користувача, яка може бути Користувачем, Бізнес-користувачем або Адміністратором.
Користувач може обирати колекцію та переглядати предмети у ній. Далі він має можливість переглядати використання предметів та за потреби переглядати бонуси.
Бізнес-користувач може вибирати бренд, додавати бонусну систему та переглядати статистику.
Адміністратор отримує доступ до перегляду даних користувачів та редагування даних. Він також може переглядати бонуси від брендів.
Ця діаграма чітко ілюструє різні дії, які користувачі з різними ролями можуть виконувати у системі, що сприяє кращому розумінню функціоналу та взаємодії між компонентами системи.
В результаті концептуального моделювання предметної області, було розроблено чотири діаграми та визначені основні компоненти мобільного додатка системи. Тепер можна перейти до реалізації інженерних рішень.

3	ІНЖЕНЕРНІ РІШЕННЯ
3.1 Структура та технології проекту

Технології були для написання мобільного додатка були обрані виходячи з функціональних потреб системи та з особистого досвіду. Тому для написання мобільного додатку була обрана мова програмування Kotlin. Вона є статично типізованою мовою програмування, яку можна використовувати для розробки на різних платформах, але вона найбільш відома як мова для розробки нативних Android-додатків. 
Для роботи з мережевими запитами була обрана бібліотека Retrofit, котра є одна з найпопулярніших в Kotlin-додатках. Ця бібліотеки відома та широко використовується через свою здатність спрощувати процес здійснення HTTP-запитів. Retrofit дозволяє визначати HTTP-запити за допомогою інтерфейсів і анотацій, що спрощує читання і написання коду. Також великим плюсом є вбудовані конвертери для серіалізації і десеріалізації даних, наприклад, Gson або Moshi, дозволяють автоматично перетворювати JSON у Kotlin-об'єкти і навпаки.
Для розробки та взаємодії з графічним інтерфейсом використовувалася бібліотека R. Бібліотека R в контексті Android розробки на Kotlin є автоматично генерованим класом, який використовується для доступу до ресурсів, таких як строки, зображення, в'ю елементи інтерфейсу користувача, і навіть елементи меню, визначені в XML-файлах вашого додатку. Ця бібліотека дозволяє розробникам легко отримувати доступ до цих ресурсів у коді програми, використовуючи ідентифікатори, що запобігає помилкам, які можуть виникнути через неправильне написання рядкових літералів. Вона робить код більш читабельним та легшим для підтримки, оскільки всі ресурси знаходяться в централізованому місці, що сприяє легкій зміні та оновленню ресурсів без необхідності переписування коду, де ці ресурси використовуються.
Для реалізації функціональності пуш-повідомлень були використані Firebase та OneSignal. Firebase забезпечує потужну платформу для зберігання даних, автентифікації користувачів та аналітики в реальному часі. OneSignal використовується для керування пуш-повідомленнями, дозволяючи легко надсилати повідомлення до користувачів додатку та відстежувати їх ефективність. Інтеграція з Firebase та OneSignal дозволяє забезпечити безперебійну взаємодію з користувачами та отримувати цінні дані для подальшого вдосконалення додатку.

3.2 Розробка користувацького інтерфейсу 

При першому запуску додатка, користувача зустрічає активність з входом. На ній (див. рис. 3.1) користувач може ввести свої дані, або ж зареєструватися.
На активності для реєстрації користувачу потрібно ввести всі необхідні дані, та натиснути на відповідну кнопку (див. рис. 3.2).
Після успішного входу у додаток, відкриється активність на якій відображені всі колекції користувача. Вище колекцій присутня кнопка для створення нової колекції. Біля кожної колекції присутні піктограми для редагування та видалення колекції. Також на кожній активності є кнопка для відкриття бокового меню, де є додаткові кнопки для навігації.
Бокове меню (див. рис. 3.4) використовується для навігації у додатку, завдяки ньому корситувач може відкрити свої бонуси, перейти до колекцій, вийти з аккаунту. Якщо ж користувач має роль “Business”, то на його панелі будуть додаткові кнопки для отримання статистики. А якщо користувач є адміністратором то у нього буде додактва кнопка для створення резервних копій таблиць
Після натискання на кнопку “Details” на сторінці з колекціями, буде відкрита активність з усіма предметами, котрі є в колеції (див. рис. 3.5). Піктограма “Око”,  дозволяє користувачу переглянути статистику предмета та переглянути його деталі.
Натиснуши на піктограму “Око” на активності для предметів, користувач перейде на сторінку (див. рис. 3.6), на котрій відображається статистика використання предмета (див. розділ А.1 у додатку А). Також зверху на активності є дві піктограми, для зміни тега на предметі (“Тег”) та налаштування сповіщень для предмета (“Дзвінок”).
Після натискання на піктограму “Дзвінок” буде відкрита нова активність з списком всі сповіщень для цього предмета(див. рис. 3.7). Зверху активності є кнопка для створення сповіщення.
Натиснувши на кнопку “Create Notification” на сторінці з сповіщеннями, користувача буде переправлено на активність з полями для сповіщення. Ця активність ідентична і для редагування, але поля будуть автоматично заповненні вже існуючими даними для обраного сповіщення.
Для того, щоб сповіщення працювали, користувачу при першому відкритті програмного застосунку буде запропоновано дозволити надсилання сповіщень (див. рис. 3.9).
Якщо користувач дозволе надсилати йому сповіщення, то в залежності від умов, котрі вкаже користувач, йому будуть надходити сповіщення після використання речей (див . рис. 3.10).
Для прегляду бонусів користувача, йому достатньо натиснути на кнопку “My Bonus” (див. рис. 3.11), де він зможе побачити свою знижку для брендів, котрими він користується.
Якщо корситувач має роль “Business”, то після успішної авторизації в додатку, для нього буде відкрита активність з списоком його брендів (див. рис. 3.12), де він зможе створити новий бренд та редагувати або видалити вже існуючі.
Для бізнес-користувача доступні три види статистики, котрі можна обрати в навігаційному меню (див. рис. 3.13).
При настиканні на пункт “Combo Statistics”, користувача буде переправлено на активність де будуть відображатися комбінації предметів з його брендів (див. рис. 3.14). Також на сторінці є можливість переключити часовий формат (див. розділ А.2 у додатку А). Детально ознайомитися з реалізацією можна у додатку А (див. розділ А.3 у додатку А).
При настиканні на пункт “Seasonal Statistics”, користувача буде переправлено на активність де буде відображатися статистика за брендом, котрий він має обрати (див. рис. 3.15). Статистика представленна у вигляді “Сезонної”, та показує які предмети в який сезон використовуються.
І останнім статистичним пунктом є “Popular Item Statistics” при натисканні на який, користувача буде переправлено на активність де буде відображатися статистика за брендом, проміжком часу та обраною кілкісттю предметів у рейтингу (див. рис. 3.16). Статистика показує які предмети найчастіше використовуються користувачами за певний проміжок часу, котрий вони можуть обрати.
Адміністратор має можливітсь блокувати та розблоковувати корситувачів на окремій активності (див. рис. 3.17). Для зручності пошуку корситувачів, була додана можливість пошуку за електронною поштою та за ідентифікатором.
Також адміністратор може створювати резервні копії таблиць (див. рис. 3.18). Натиснувши на відповідний пункт у навігаційному меню, буде відкрито діалогове вікно, де можна обрати, яку саме таблицю треба копіювати.
Таким чином було розроблено та протестовано мобільний додаток, котрий повінсттю функціонує та є частиною системи.

4	ВИСНОВКИ

В результаті виконання лабораторної роботи, був розроблений та протестований мобільний додаток програмної системи. Були розроблені діаграми для кращого розуміння предметної області, архітектури компонентів та взаємодії між ними. Був записаний відеоролик, де були показані основні функції мобільного додатка(DEMO: https://youtu.be/_oxAFPZ8A8Y)
